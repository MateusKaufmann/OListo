<%# Partial: Invent치rio Geral (Cozinha, Higiene, Limpeza, Outros) %>
<div id="side-inventario" style="width: 50%; flex-shrink: 0; padding: 0 15px; overflow-y: auto; display: none;">

  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px 5px;">
    <div>
      <h2 class="page-title" style="margin:0; font-size: 1.5rem; color: var(--dynamic-text);">Invent치rio Geral</h2>
      <p class="card-subtitle">Consulta r치pida de todos os itens</p>
    </div>
    <div style="display: flex; gap: 10px;">
      <button onclick="toggleInventoryView(false)" class="card-btn" style="border-color: var(--coral); color: var(--coral); background: none;">Sair</button>
    </div>
  </div>

  <section class="content-grid">

    <div class="glass-card activity-card">
      <div class="card-header">
        <div>
          <h2 class="card-title">Cozinha Completa</h2>
          <p class="card-subtitle">Invent치rio detalhado da despensa</p>
        </div>
      </div>
      <div class="activity-list">
        <% 
          const cozinhaItens = data.estoque
            .filter(i => i.categoria === 'Alimentos')
            .sort((a, b) => a.nome.localeCompare(b.nome));
          if (cozinhaItens.length === 0) { %>
        <div style="text-align:center; color: var(--text-dim); padding: 30px;">
          <p style="font-size: 0.9rem;">Sua despensa est치 vazia no sistema. 游꼽</p>
        </div>
        <% } %>
        <% cozinhaItens.forEach(item => { 
          let statusColor = 'var(--emerald)'; 
          if (item.percentualAtual <= item.percentual_alerta) statusColor = '#ff9966';
          if (item.percentualAtual <= 10) statusColor = '#ff5e62';
        %>
        <div class="activity-item" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px;">
          <div style="display: flex; align-items: center; flex: 1;">
            <div class="activity-avatar" style="background: <%= statusColor %>; color: white; min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 15px; border-radius: 10px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px;">
                <path d="M12 7c-4 0-7 3-7 8a7 7 0 0 0 14 0c0-5-3-8-7-8z" />
                <path d="M12 7c0-2 1-4 3-5" />
              </svg>
            </div>
            <div class="activity-content" style="flex: 1;">
              <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4px;">
                <p class="activity-text" style="margin: 0;">
                  <strong style="font-size: 1rem;"><%= item.nome %></strong>
                  <span style="font-size: 0.8rem; color: var(--text-dim); margin-left: 8px; font-weight: 500;"><%= item.percentualAtual %>%</span>
                </p>
                <span style="font-size: 0.85rem; font-weight: 600; color: var(--text-main);">
                  <%= item.estoqueEstimado %> <span style="font-weight: 400; color: var(--text-dim);">/ <%= item.quantidade_ideal %> <%= item.unidade_medida %></span>
                </span>
              </div>
              <div class="progress-bar" style="height: 6px; background: rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden;">
                <div class="progress-fill" style="width: <%= item.percentualAtual %>%; background: <%= statusColor %>; height: 100%; transition: width 0.5s ease;"></div>
              </div>
            </div>
          </div>
          <div class="item-actions" style="display: flex; gap: 12px; margin-left: 20px; border-left: 1px solid rgba(0,0,0,0.05); padding-left: 15px;">
            <a href="/estoque/editar/<%= item.id %>" title="Editar" style="color: var(--text-dim); transition: all 0.2s;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4L18.5 2.5z"></path>
              </svg>
            </a>
            <a href="/estoque/deletar/<%= item.id %>" title="Excluir" onclick="return confirm('Excluir <%= item.nome %>?')" style="color: #ff5e62; opacity: 0.6; transition: all 0.2s;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              </svg>
            </a>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <div class="glass-card activity-card">
      <div class="card-header">
        <div>
          <h2 class="card-title">Higiene</h2>
          <p class="card-subtitle">Cuidados e uso pessoal</p>
        </div>
      </div>
      <div class="activity-list">
        <% 
          const higieneItens = data.estoque
            .filter(i => i.categoria === 'Higiene')
            .sort((a, b) => a.nome.localeCompare(b.nome));
          higieneItens.forEach(item => { 
            let statusColor = 'var(--emerald)'; 
            if (item.percentualAtual <= item.percentual_alerta) statusColor = '#ff9966';
            if (item.percentualAtual <= 10) statusColor = '#ff5e62';
        %>
        <div class="activity-item" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px;">
          <div style="display: flex; align-items: center; flex: 1;">
            <div class="activity-avatar" style="background: <%= statusColor %>; color: white; min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 15px; border-radius: 10px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px;">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
              </svg>
            </div>
            <div class="activity-content" style="flex: 1;">
              <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4px;">
                <p class="activity-text" style="margin: 0;">
                  <strong style="font-size: 1rem;"><%= item.nome %></strong>
                  <span style="font-size: 0.8rem; color: var(--text-dim); margin-left: 8px; font-weight: 500;"><%= item.percentualAtual %>%</span>
                </p>
                <span style="font-size: 0.85rem; font-weight: 600; color: var(--text-main);">
                  <%= item.estoqueEstimado %> <span style="font-weight: 400; color: var(--text-dim);">/ <%= item.quantidade_ideal %> <%= item.unidade_medida %></span>
                </span>
              </div>
              <div class="progress-bar" style="height: 6px; background: rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden;">
                <div class="progress-fill" style="width: <%= item.percentualAtual %>%; background: <%= statusColor %>; height: 100%; transition: width 0.5s ease;"></div>
              </div>
            </div>
          </div>
          <div class="item-actions" style="display: flex; gap: 12px; margin-left: 20px; border-left: 1px solid rgba(0,0,0,0.05); padding-left: 15px;">
            <a href="/estoque/editar/<%= item.id %>" style="color: var(--text-dim);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4L18.5 2.5z"></path></svg></a>
            <a href="/estoque/deletar/<%= item.id %>" onclick="return confirm('Excluir <%= item.nome %>?')" style="color: #ff5e62; opacity: 0.6;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></a>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <div class="glass-card activity-card">
      <div class="card-header">
        <div>
          <h2 class="card-title">Limpeza</h2>
          <p class="card-subtitle">Manuten칞칚o da casa</p>
        </div>
      </div>
      <div class="activity-list">
        <% 
          const limpezaItens = data.estoque
            .filter(i => i.categoria === 'Limpeza')
            .sort((a, b) => a.nome.localeCompare(b.nome));
          limpezaItens.forEach(item => { 
            let statusColor = 'var(--emerald)'; 
            if (item.percentualAtual <= item.percentual_alerta) statusColor = '#ff9966';
            if (item.percentualAtual <= 10) statusColor = '#ff5e62';
        %>
        <div class="activity-item" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px;">
          <div style="display: flex; align-items: center; flex: 1;">
            <div class="activity-avatar" style="background: <%= statusColor %>; color: white; min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 15px; border-radius: 10px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px;">
                <path d="M9 3h6M10 3v4M14 7H8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z" />
              </svg>
            </div>
            <div class="activity-content" style="flex: 1;">
              <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4px;">
                <p class="activity-text" style="margin: 0;">
                  <strong style="font-size: 1rem;"><%= item.nome %></strong>
                  <span style="font-size: 0.8rem; color: var(--text-dim); margin-left: 8px; font-weight: 500;"><%= item.percentualAtual %>%</span>
                </p>
                <span style="font-size: 0.85rem; font-weight: 600; color: var(--text-main);">
                  <%= item.estoqueEstimado %> <span style="font-weight: 400; color: var(--text-dim);">/ <%= item.quantidade_ideal %> <%= item.unidade_medida %></span>
                </span>
              </div>
              <div class="progress-bar" style="height: 6px; background: rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden;">
                <div class="progress-fill" style="width: <%= item.percentualAtual %>%; background: <%= statusColor %>; height: 100%; transition: width 0.5s ease;"></div>
              </div>
            </div>
          </div>
          <div class="item-actions" style="display: flex; gap: 12px; margin-left: 20px; border-left: 1px solid rgba(0,0,0,0.05); padding-left: 15px;">
            <a href="/estoque/editar/<%= item.id %>" style="color: var(--text-dim);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4L18.5 2.5z"></path></svg></a>
            <a href="/estoque/deletar/<%= item.id %>" onclick="return confirm('Excluir <%= item.nome %>?')" style="color: #ff5e62; opacity: 0.6;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></a>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <div class="glass-card activity-card">
      <div class="card-header">
        <div>
          <h2 class="card-title">Outros</h2>
          <p class="card-subtitle">Reposi칞칚o e itens diversos</p>
        </div>
      </div>
      <div class="activity-list">
        <% 
          const outrosItens = data.estoque
            .filter(i => i.categoria === 'Outro' || (i.categoria !== 'Alimentos' && i.categoria !== 'Higiene' && i.categoria !== 'Limpeza'))
            .sort((a, b) => a.nome.localeCompare(b.nome));
          outrosItens.forEach(item => { 
            let statusColor = 'var(--emerald)'; 
            if (item.percentualAtual <= item.percentual_alerta) statusColor = '#ff9966';
            if (item.percentualAtual <= 10) statusColor = '#ff5e62';
        %>
        <div class="activity-item" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px;">
          <div style="display: flex; align-items: center; flex: 1;">
            <div class="activity-avatar" style="background: <%= statusColor %>; color: white; min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 15px; border-radius: 10px;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 20px;">
                <circle cx="12" cy="12" r="10" />
                <line x1="12" y1="8" x2="12" y2="12" />
                <line x1="12" y1="16" x2="12.01" y2="16" />
              </svg>
            </div>
            <div class="activity-content" style="flex: 1;">
              <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4px;">
                <p class="activity-text" style="margin: 0;">
                  <strong style="font-size: 1rem;"><%= item.nome %></strong>
                  <span style="font-size: 0.8rem; color: var(--text-dim); margin-left: 8px; font-weight: 500;"><%= item.percentualAtual %>%</span>
                </p>
                <span style="font-size: 0.85rem; font-weight: 600; color: var(--text-main);">
                  <%= item.estoqueEstimado %> <span style="font-weight: 400; color: var(--text-dim);">/ <%= item.quantidade_ideal %> <%= item.unidade_medida %></span>
                </span>
              </div>
              <div class="progress-bar" style="height: 6px; background: rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden;">
                <div class="progress-fill" style="width: <%= item.percentualAtual %>%; background: <%= statusColor %>; height: 100%; transition: width 0.5s ease;"></div>
              </div>
            </div>
          </div>
          <div class="item-actions" style="display: flex; gap: 12px; margin-left: 20px; border-left: 1px solid rgba(0,0,0,0.05); padding-left: 15px;">
            <a href="/estoque/editar/<%= item.id %>" style="color: var(--text-dim);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4L18.5 2.5z"></path></svg></a>
            <a href="/estoque/deletar/<%= item.id %>" onclick="return confirm('Excluir <%= item.nome %>?')" style="color: #ff5e62; opacity: 0.6;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></a>
          </div>
        </div>
        <% }) %>
      </div>
    </div>
  </section>
</div>
